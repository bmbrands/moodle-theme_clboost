{"version":3,"sources":["../src/tsdrawer.js"],"names":["define","$","BoostDrawer","SELECTORS","TOGGLE_REGION","TOGGLE_ACTION","TOGGLE_TARGET","TOGGLE_SIDE","BODY","SECTION","DRAWER","maximisebutton","on","trigger","each","index","ele","find","side","attr","body","addClass","init"],"mappings":"AA0BAA,OAAM,0BAAC,CAAC,QAAD,CAAW,oBAAX,CAAD,CACF,SAAUC,CAAV,CAAaC,CAAb,CAA0B,CAEtB,GAAIC,CAAAA,CAAS,CAAG,CACZC,aAAa,CAAE,iCADH,CAEZC,aAAa,CAAE,iCAFH,CAGZC,aAAa,CAAE,eAHH,CAIZC,WAAW,CAAE,MAJD,CAKZC,IAAI,CAAE,MALM,CAMZC,OAAO,CAAE,uCANG,CAOZC,MAAM,CAAE,aAPI,CAAhB,CASA,MAAO,CACH,KAAQ,eAAY,CAChB,GAAIC,CAAAA,CAAc,CAAGV,CAAC,CAACE,CAAS,CAACO,MAAV,CAAmB,8BAApB,CAAtB,CAEA,GAAIC,CAAJ,CAAoB,CAChBA,CAAc,CAACC,EAAf,CAAkB,OAAlB,CAA2B,UAAY,CACnCX,CAAC,CAACE,CAAS,CAACE,aAAX,CAAD,CAA2BQ,OAA3B,CAAmC,OAAnC,CACH,CAFD,CAGH,CACDZ,CAAC,CAACE,CAAS,CAACC,aAAX,CAAD,CAA2BU,IAA3B,CAAgC,SAASC,CAAT,CAAgBC,CAAhB,CAAqB,IAC7CH,CAAAA,CAAO,CAAGZ,CAAC,CAACe,CAAD,CAAD,CAAOC,IAAP,CAAYd,CAAS,CAACE,aAAtB,CADmC,CAE7Ca,CAAI,CAAGL,CAAO,CAACM,IAAR,CAAa,WAAb,CAFsC,CAG7CC,CAAI,CAAGnB,CAAC,CAACE,CAAS,CAACK,IAAX,CAHqC,CAMjDY,CAAI,CAACC,QAAL,CAAc,UAAYH,CAA1B,CACH,CAPD,EAQA,MAAOhB,CAAAA,CAAW,CAACoB,IAAZ,EACV,CAlBE,CAoBV,CAhCC,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Contain the logic for a drawer.\n *\n * This is very similar to the boost routine (drawer.js), except that we have two states:\n * - Partially open with just icons showing up\n * - Fully opened\n *\n * @package   theme_clboost\n * @copyright 2020 - CALL Learning - Laurent David <laurent@call-learning.fr>\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery', 'theme_boost/drawer'],\n    function ($, BoostDrawer) {\n        /* This is a copy of the drawer.js variables as they are private */\n        var SELECTORS = {\n            TOGGLE_REGION: '[data-region=\"drawer-toggle\"]',\n            TOGGLE_ACTION: '[data-action=\"toggle-drawer\"]',\n            TOGGLE_TARGET: 'aria-controls',\n            TOGGLE_SIDE: 'left',\n            BODY: 'body',\n            SECTION: '.list-group-item[href*=\"#section-\"]',\n            DRAWER: '#nav-drawer'\n        };\n        return {\n            'init': function () {\n                var maximisebutton = $(SELECTORS.DRAWER + ' .nav-drawer-maximise-action');\n\n                if (maximisebutton) {\n                    maximisebutton.on('click', function () {\n                        $(SELECTORS.TOGGLE_ACTION).trigger(\"click\");\n                    });\n                }\n                $(SELECTORS.TOGGLE_REGION).each(function(index, ele) {\n                    var trigger = $(ele).find(SELECTORS.TOGGLE_ACTION);\n                    var side = trigger.attr('data-side');\n                    var body = $(SELECTORS.BODY);\n                    // We add a class drawer-right or drawer-left so this can be used to determine\n                    // Left or right margin in scss.\n                    body.addClass('drawer-' + side);\n                });\n                return BoostDrawer.init();\n            }\n        };\n    });\n"],"file":"tsdrawer.min.js"}